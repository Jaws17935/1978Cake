<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweet Dreams ç”œå¤¢å·¥åŠ | æ‰‹ä½œç”œé»å°ˆè³£</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* --- CSS æ¨£å¼ (ç¶­æŒåŸæœ¬è¨­è¨ˆï¼Œæ–°å¢ Modal æ¨£å¼) --- */
        :root {
            --primary-color: #d4a373;
            --accent-color: #e5989b;
            --bg-color: #fefae0;
            --text-color: #4a4a4a;
            --white: #ffffff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Helvetica Neue", "PingFang TC", sans-serif; }
        body { background-color: var(--bg-color); color: var(--text-color); line-height: 1.6; }
        a { text-decoration: none; color: inherit; }
        img { max-width: 100%; display: block; }
        ul { list-style: none; }

        /* å°èˆª */
        header { background: var(--white); padding: 1rem 5%; position: fixed; width: 100%; top: 0; z-index: 1000; box-shadow: 0 2px 10px rgba(0,0,0,0.05); display: flex; justify-content: space-between; align-items: center; }
        .logo { font-size: 1.5rem; font-weight: bold; color: var(--accent-color); }
        
        nav ul { display: flex; gap: 20px; }
        nav a:hover { color: var(--accent-color); transition: 0.3s; }

        .cart-btn { background: var(--accent-color); color: white; padding: 0.5rem 1rem; border-radius: 20px; cursor: pointer; position: relative; }
        .cart-count { position: absolute; top: -5px; right: -5px; background: red; color: white; font-size: 12px; width: 18px; height: 18px; border-radius: 50%; display: flex; justify-content: center; align-items: center; }

        /* Hero */
        .hero { height: 80vh; background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('https://images.unsplash.com/photo-1563729768-6af584667824?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80'); background-size: cover; background-position: center; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; color: white; margin-top: 60px; }
        .hero h1 { font-size: 3rem; margin-bottom: 1rem; text-shadow: 2px 2px 4px rgba(0,0,0,0.5); }
        .hero p { font-size: 1.2rem; margin-bottom: 2rem; }
        .cta-button { background-color: var(--primary-color); color: white; padding: 1rem 2.5rem; border-radius: 30px; font-size: 1.2rem; cursor: pointer; border: none; transition: 0.3s; }
        .cta-button:hover { transform: scale(1.05); background-color: #c58e5e; }

        /* ç‰¹è‰²å€å¡Š */
        .features { display: flex; justify-content: space-around; padding: 4rem 10%; background: white; text-align: center; }
        .feature-item h3 { margin: 1rem 0 0.5rem; color: var(--primary-color); }

        /* ç”¢å“å€ */
        .products { padding: 4rem 10%; }
        .section-title { text-align: center; font-size: 2rem; margin-bottom: 3rem; color: var(--primary-color); }
        .product-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; }
        .product-card { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s; display: flex; flex-direction: column; }
        .product-card:hover { transform: translateY(-5px); }
        .product-img { height: 200px; object-fit: cover; width: 100%; }
        .product-info { padding: 1.5rem; text-align: center; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .product-title { font-size: 1.2rem; margin-bottom: 0.5rem; font-weight: bold; }
        .product-price { color: var(--accent-color); font-size: 1.1rem; margin-bottom: 1rem; }
        .add-btn { background-color: var(--text-color); color: white; padding: 0.5rem 1rem; border: none; border-radius: 5px; cursor: pointer; width: 100%; transition: 0.2s; }
        .add-btn:hover { background-color: var(--accent-color); }

        /* é—œæ–¼æˆ‘å€‘ */
        .about { padding: 4rem 10%; background-color: #faedcd; display: flex; align-items: center; gap: 2rem; flex-wrap: wrap; }
        .about-text { flex: 1; min-width: 300px; }
        .about-img { flex: 1; min-width: 300px; border-radius: 15px; }

        /* --- è³¼ç‰©è»Š Modal (å½ˆå‡ºè¦–çª—) --- */
        .cart-modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 2000; display: none; justify-content: center; align-items: center; }
        .cart-modal { background: white; width: 90%; max-width: 500px; padding: 2rem; border-radius: 10px; max-height: 80vh; overflow-y: auto; position: relative; }
        .cart-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem; border-bottom: 1px solid #eee; padding-bottom: 0.5rem; }
        .close-cart { cursor: pointer; font-size: 1.5rem; }
        .cart-items { margin-bottom: 1rem; }
        .cart-item { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; padding: 10px; background: #f9f9f9; border-radius: 5px; }
        .cart-item-info { display: flex; flex-direction: column; }
        .cart-total { font-size: 1.2rem; font-weight: bold; text-align: right; margin-top: 1rem; color: var(--accent-color); }
        .checkout-btn { background-color: #00c300; /* LINE Green */ color: white; width: 100%; padding: 1rem; border: none; border-radius: 5px; margin-top: 1rem; cursor: pointer; font-size: 1rem; display: flex; justify-content: center; align-items: center; gap: 10px; }
        .checkout-btn:hover { background-color: #00a000; }
        .remove-item { color: red; cursor: pointer; margin-left: 10px; }

        /* é å°¾ */
        footer { background: var(--text-color); color: white; padding: 3rem 10%; text-align: center; }
        .footer-links { margin: 1.5rem 0; }
        .footer-links a { margin: 0 10px; color: #ccc; }

        @media (max-width: 768px) {
            .hero h1 { font-size: 2rem; }
            .features { flex-direction: column; gap: 2rem; }
            nav ul { display: none; }
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">Sweet Dreams ç”œå¤¢å·¥åŠ</div>
        <nav>
            <ul>
                <li><a href="#home">é¦–é </a></li>
                <li><a href="#products">ç†±éŠ·ç”œé»</a></li>
                <li><a href="#about">é—œæ–¼æˆ‘å€‘</a></li>
                <li><a href="#contact">è¯çµ¡è³‡è¨Š</a></li>
            </ul>
        </nav>
        <div class="cart-btn" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i> è³¼ç‰©è»Š
            <div class="cart-count" id="cart-count">0</div>
        </div>
    </header>

    <section id="home" class="hero">
        <h1>æ¯ä¸€å£ï¼Œéƒ½æ˜¯å¹¸ç¦çš„é­”æ³•</h1>
        <p>åš´é¸æ³•åœ‹å¥¶æ²¹èˆ‡ç•¶å­£æ–°é®®æ°´æœï¼Œæ¯æ—¥æ‰‹å·¥ç¾åšã€‚</p>
        <button class="cta-button" onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth'})">é–‹å§‹é¸è³¼</button>
    </section>

    <section class="features">
        <div class="feature-item">
            <h3>ğŸŒ± å¤©ç„¶é£Ÿæ</h3>
            <p>ç„¡æ·»åŠ äººå·¥è‰²ç´ èˆ‡é˜²è…åŠ‘</p>
        </div>
        <div class="feature-item">
            <h3>ğŸ‘©â€ğŸ³ æ‰‹å·¥ç¾åš</h3>
            <p>æ¯æ—¥é™é‡è£½ä½œï¼Œä¿è­‰æ–°é®®</p>
        </div>
        <div class="feature-item">
            <h3>ğŸšš å†·éˆé…é€</h3>
            <p>å…¨ç¨‹ä½æº«å®…é…ï¼Œå®Œç¾é€é”</p>
        </div>
    </section>

    <section id="products" class="products">
        <h2 class="section-title">æœ¬å­£ç†±é–€æ¨è–¦</h2>
        <div class="product-grid" id="product-list">
            </div>
    </section>

    <section id="about" class="about">
        <div class="about-text">
            <h2 style="color:var(--primary-color); margin-bottom:1rem;">é—œæ–¼ ç”œå¤¢å·¥åŠ</h2>
            <p>Sweet Dreams æˆç«‹æ–¼2023å¹´ï¼Œæºè‡ªæ–¼ä¸€å€‹å°å°çš„å»šæˆ¿å¤¢æƒ³ã€‚æˆ‘å€‘ç›¸ä¿¡ç”œé»ä¸åƒ…åƒ…æ˜¯é£Ÿç‰©ï¼Œæ›´æ˜¯ç™‚ç™’å¿ƒéˆçš„è‰¯è—¥ã€‚</p>
            <br>
            <p>æˆ‘å€‘å …æŒä½¿ç”¨æ³•åœ‹ Isigny å¥¶æ²¹ã€æ—¥æœ¬ç´«ç¾…è˜­éºµç²‰ï¼Œä»¥åŠå°ç£åœ¨åœ°å°è¾²çš„æ–°é®®æ°´æœã€‚æ¯ä¸€å€‹è›‹ç³•ï¼Œéƒ½æ‰¿è¼‰è‘—æˆ‘å€‘å°ç¾å‘³çš„å …æŒã€‚</p>
        </div>
        <img src="https://images.unsplash.com/photo-1556910103-1c02745a30bf?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="çƒ˜ç„™éç¨‹" class="about-img">
    </section>

    <footer id="contact">
        <h3>Sweet Dreams ç”œå¤¢å·¥åŠ</h3>
        <div class="footer-links">
            <a href="#">Facebook</a> | 
            <a href="#">Instagram</a> | 
            <a href="#">Lineå®˜æ–¹å¸³è™Ÿ</a>
        </div>
        <p>åœ°å€ï¼šå°åŒ—å¸‚å¹¸ç¦å€ç”œé»è·¯ 123 è™Ÿ</p>
        <p>é›»è©±ï¼š(02) 1234-5678</p>
        <br>
        <small>&copy; 2025 Sweet Dreams Bakery. All Rights Reserved.</small>
    </footer>

    <div class="cart-modal-overlay" id="cart-overlay">
        <div class="cart-modal">
            <div class="cart-header">
                <h2>æ‚¨çš„è³¼ç‰©æ¸…å–®</h2>
                <span class="close-cart" onclick="toggleCart()">&times;</span>
            </div>
            <div id="cart-items-container" class="cart-items">
                <p style="text-align:center; color:#888;">è³¼ç‰©è»Šæ˜¯ç©ºçš„</p>
            </div>
            <div class="cart-total">ç¸½è¨ˆ: NT$ <span id="cart-total-price">0</span></div>
            <button class="checkout-btn" onclick="checkout()">
                <i class="fab fa-line"></i> ç”¨ LINE å‚³é€è¨‚å–®çµå¸³
            </button>
            <p style="font-size:0.8rem; color:#888; margin-top:10px; text-align:center;">*é»æ“Šå¾Œå°‡è·³è½‰è‡³ LINE ç™¼é€è¨‚å–®è¨Šæ¯</p>
        </div>
    </div>

    <script>
        // 1. å•†å“è³‡æ–™åº« (æ‚¨å¯ä»¥ç›´æ¥åœ¨é€™è£¡ä¿®æ”¹å•†å“)
        const products = [
            { id: 1, name: "è‰è“é®®å¥¶æ²¹è›‹ç³•", price: 850, img: "https://images.unsplash.com/photo-1565958011703-44f9829ba187?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
            { id: 2, name: "æ³•å¼é¦¬å¡é¾ (6å…¥)", price: 480, img: "https://images.unsplash.com/photo-1569864358642-9d1684040f43?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80" },
            { id: 3, name: "å·§å…‹åŠ›å¸ƒæœ—å°¼", price: 320, img: "https://images.unsplash.com/photo-1607920591413-4ec007e70023?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
            { id: 4, name: "ç¶“å…¸æ³•å¼æª¸æª¬å¡”", price: 150, img: "https://images.unsplash.com/photo-1519915028121-7d3463d20b13?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" },
            { id: 5, name: "æ‰‹å·¥é¤…ä¹¾ç¦®ç›’", price: 600, img: "https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80" }
        ];

        // 2. åˆå§‹åŒ–è³¼ç‰©è»Š (å¾ LocalStorage è®€å–)
        let cart = JSON.parse(localStorage.getItem('myDessertCart')) || [];

        // 3. æ¸²æŸ“ç”¢å“åˆ—è¡¨
        const productList = document.getElementById('product-list');
        products.forEach(product => {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <img src="${product.img}" alt="${product.name}" class="product-img">
                <div class="product-info">
                    <div class="product-title">${product.name}</div>
                    <div class="product-price">NT$ ${product.price}</div>
                    <button class="add-btn" onclick="addToCart(${product.id})">åŠ å…¥è³¼ç‰©è»Š</button>
                </div>
            `;
            productList.appendChild(card);
        });

        // æ›´æ–°è³¼ç‰©è»Šåœ–æ¨™æ•¸å­—
        function updateCartCount() {
            document.getElementById('cart-count').innerText = cart.length;
        }
        updateCartCount();

        // 4. åŠ å…¥è³¼ç‰©è»ŠåŠŸèƒ½
        function addToCart(id) {
            const product = products.find(p => p.id === id);
            cart.push(product);
            localStorage.setItem('myDessertCart', JSON.stringify(cart)); // å­˜å…¥ç€è¦½å™¨
            updateCartCount();
            alert(`å·²å°‡ã€Œ${product.name}ã€åŠ å…¥è³¼ç‰©è»Šï¼`);
        }

        // 5. é–‹é—œè³¼ç‰©è»Šè¦–çª—
        function toggleCart() {
            const overlay = document.getElementById('cart-overlay');
            if (overlay.style.display === 'flex') {
                overlay.style.display = 'none';
            } else {
                renderCartItems();
                overlay.style.display = 'flex';
            }
        }

        // 6. æ¸²æŸ“è³¼ç‰©è»Šå…§å®¹
        function renderCartItems() {
            const container = document.getElementById('cart-items-container');
            const totalEl = document.getElementById('cart-total-price');
            container.innerHTML = '';
            
            if (cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#888;">è³¼ç‰©è»Šæ˜¯ç©ºçš„</p>';
                totalEl.innerText = '0';
                return;
            }

            let total = 0;
            // é€™è£¡ç°¡å–®åˆ—å‡ºæ‰€æœ‰å•†å“ï¼Œå¦‚æœéœ€è¦åˆä½µç›¸åŒå•†å“æ•¸é‡ï¼Œé‚è¼¯æœƒå†è¤‡é›œä¸€é»
            cart.forEach((item, index) => {
                total += item.price;
                const div = document.createElement('div');
                div.className = 'cart-item';
                div.innerHTML = `
                    <div class="cart-item-info">
                        <strong>${item.name}</strong>
                        <small>NT$ ${item.price}</small>
                    </div>
                    <i class="fas fa-trash remove-item" onclick="removeFromCart(${index})"></i>
                `;
                container.appendChild(div);
            });
            totalEl.innerText = total;
        }

        // 7. ç§»é™¤å•†å“
        function removeFromCart(index) {
            cart.splice(index, 1); // åˆªé™¤æŒ‡å®šé …ç›®
            localStorage.setItem('myDessertCart', JSON.stringify(cart));
            updateCartCount();
            renderCartItems(); // é‡æ–°æ¸²æŸ“
        }

        // 8. çµå¸³åŠŸèƒ½ (æ ¸å¿ƒï¼šç”Ÿæˆ LINE è¨Šæ¯)
        function checkout() {
            if (cart.length === 0) {
                alert('è³¼ç‰©è»Šæ˜¯ç©ºçš„å–”ï¼');
                return;
            }

            // æ•´ç†è¨‚å–®å…§å®¹
            let message = "æ‚¨å¥½ï¼Œæˆ‘æƒ³è¨‚è³¼ä»¥ä¸‹ç”œé»ï¼š\n";
            let total = 0;
            
            // ç°¡å–®çµ±è¨ˆæ•¸é‡
            const counts = {};
            cart.forEach(item => {
                counts[item.name] = (counts[item.name] || 0) + 1;
                total += item.price;
            });

            for (const [name, count] of Object.entries(counts)) {
                message += `- ${name} x ${count}\n`;
            }
            
            message += `\nç¸½é‡‘é¡ï¼šNT$ ${total}`;
            message += `\n\n(è«‹åœ¨æ­¤ç•™ä¸‹æ‚¨çš„æ”¶ä»¶äººå§“åã€é›»è©±èˆ‡åœ°å€)`;

            // ä½¿ç”¨ LINE å®˜æ–¹å¸³è™Ÿé€£çµ - ç›´æ¥å‚³é€è¨Šæ¯åˆ°å®˜æ–¹å¸³è™Ÿ
            const lineUrl = `https://lin.ee/GYORgS6?text=${encodeURIComponent(message)}`;
            
            // é–‹å•Ÿæ–°è¦–çª—è·³è½‰åˆ° LINE å®˜æ–¹å¸³è™Ÿ
            window.open(lineUrl, '_blank');
            
            // (é¸æ“‡æ€§) æ¸…ç©ºè³¼ç‰©è»Š
            // cart = [];
            // localStorage.setItem('myDessertCart', JSON.stringify(cart));
            // updateCartCount();
            // toggleCart();
        }
    </script>
</body>
</html>